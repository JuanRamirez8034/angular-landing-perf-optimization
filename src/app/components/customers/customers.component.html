<section 
  id="section-customers" 
  class="section--customers"
  IntersectionObserver
  [intersectionDebounce]="20"
  (visibilityChange)="onVisibilityChanged($event)"
  [style.opacity]="status === 'Visible' ? 1 : 0"
>
  <div class="section__container">
    <h4 class="title">What customers are saying</h4>
    <div class="slide__container" [ngClass]="{fadeInRight: status === 'Visible'}">
      <swiper #swiper [config]="config">
        <ng-template swiperSlide *ngFor="let customer of customers">
          <div class="flex--horizontal slide">
            <div class="slide__content">
              <h4 class="font-fjalla">
                {{ customer.title }}
              </h4>
              <p class="time-ago">{{ customer.date | calculateDatePeriode }}</p>
              <p>
                {{ customer.text }}
              </p>
            </div>
            <div class="slide__image">
              <app-image [source]="customer.image" alt="customer image"></app-image>
            </div>
          </div>
        </ng-template>
      </swiper>
      <div class="slide-controls">
        <button type="button" aria-label="slider button left" (click)="slidePrev()">
          <fa-icon [icon]="faAngleLeft"></fa-icon>
        </button>
        <button type="button" aria-label="slider button right" (click)="slideNext()">
          <fa-icon [icon]="faAngleRight"></fa-icon>
        </button>
      </div>
    </div>
  </div>
</section>
